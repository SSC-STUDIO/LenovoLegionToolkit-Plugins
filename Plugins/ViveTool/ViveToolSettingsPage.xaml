<wpfui:UiPage
    x:Class="LenovoLegionToolkit.Plugins.ViveTool.ViveToolSettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:wpfui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:plugin="clr-namespace:LenovoLegionToolkit.Plugins.ViveTool"
    xmlns:pluginRes="clr-namespace:LenovoLegionToolkit.Plugins.ViveTool.Resources"
    Scrollable="False">
    <StackPanel Margin="0,0,16,16">
        <!-- ViVeTool Status -->
        <Border
            Background="{DynamicResource ControlFillColorDefaultBrush}"
            BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
            BorderThickness="1"
            CornerRadius="12"
            Padding="24"
            Margin="0,0,0,20">
            <Border.Effect>
                <DropShadowEffect
                    Color="Black"
                    Direction="270"
                    ShadowDepth="2"
                    Opacity="0.08"
                    BlurRadius="8" />
            </Border.Effect>
            <StackPanel>
                <Grid Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                        <TextBlock
                            FontSize="17"
                            FontWeight="Medium"
                            Foreground="{DynamicResource TextFillColorPrimaryBrush}"
                            Text="{x:Static pluginRes:Resource.ViveTool_ViveToolStatus}" />
                        <TextBlock
                            x:Name="_statusTextBlock"
                            FontSize="13"
                            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                            Margin="0,4,0,0"
                            TextWrapping="Wrap"
                            LineHeight="18" />
                        
                        <!-- Download Progress -->
                        <Grid x:Name="_downloadProgressGrid" Margin="0,8,0,0" Visibility="Collapsed">
                            <ProgressBar
                                x:Name="_downloadProgressBar"
                                Height="8"
                                Background="{DynamicResource ControlFillColorTertiaryBrush}"
                                BorderBrush="{DynamicResource ControlStrokeColorDefaultBrush}"
                                BorderThickness="1"
                                Foreground="{DynamicResource SystemAccentColorPrimaryBrush}"
                                HorizontalAlignment="Stretch" />
                            <TextBlock
                                x:Name="_downloadProgressText"
                                FontSize="12"
                                Foreground="{DynamicResource TextFillColorSecondaryBrush}"
                                Margin="0,12,0,0" />
                        </Grid>
                    </StackPanel>
                    
                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <wpfui:Button
                            x:Name="_gitHubButton"
                            Content="GitHub"
                            Icon="Open24"
                            Click="GitHubButton_Click"
                            Padding="12,6"
                            Margin="0,0,8,0"
                            VerticalAlignment="Center" />
                        <wpfui:Button
                            x:Name="_downloadViveToolButton"
                            Content="{x:Static pluginRes:Resource.ViveTool_Download}"
                            Click="DownloadViveToolButton_Click"
                            Padding="12,6"
                            Margin="0,0,8,0"
                            VerticalAlignment="Center" />
                        <wpfui:Button
                            x:Name="_refreshStatusButton"
                            Content="{x:Static pluginRes:Resource.ViveTool_Refresh}"
                            Click="RefreshStatusButton_Click"
                            Padding="12,6"
                            VerticalAlignment="Center" />
                    </StackPanel>
                </Grid>
            </StackPanel>
        </Border>
        
        <!-- ViVeTool Path -->
        <Grid Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <wpfui:TextBox
                Grid.Column="0"
                x:Name="_viveToolPathTextBox"
                PlaceholderText="{x:Static pluginRes:Resource.ViveTool_PathPlaceholder}"
                Margin="0,0,8,0"
                IsReadOnly="True" />
            <wpfui:Button
                Grid.Column="1"
                x:Name="_browseViveToolButton"
                Content="{x:Static pluginRes:Resource.ViveTool_Browse}"
                Click="BrowseViveToolButton_Click"
                Padding="12,6"
                Margin="0,0,8,0"
                VerticalAlignment="Center" />
            <wpfui:Button
                Grid.Column="2"
                x:Name="_importConfigButton"
                Content="{x:Static pluginRes:Resource.ViveTool_ImportConfig}"
                Click="ImportConfigButton_Click"
                Padding="12,6"
                VerticalAlignment="Center" />
        </Grid>
        <TextBlock
            FontSize="12"
            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
            TextWrapping="Wrap"
            LineHeight="18"
            Margin="0,0,0,20"
            Text="{x:Static pluginRes:Resource.ViveTool_PathDescription}" />
    </StackPanel>
</wpfui:UiPage>
